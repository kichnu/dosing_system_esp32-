; DOZOWNIK - PlatformIO Configuration
; ESP32-S3-ZERO (Seeed Studio XIAO)
; 
; UWAGA: Ten projekt NIE używa starych plików z projektu dolewki!
; Struktura jest budowana od zera.

[env:esp32s3]
platform = espressif32
board = seeed_xiao_esp32s3
framework = arduino

; Upload & Monitor
monitor_speed = 115200
upload_speed = 921600

; Build flags
build_flags = 
    -DARDUINO_USB_MODE=1
    -DARDUINO_USB_CDC_ON_BOOT=1
    -DCORE_DEBUG_LEVEL=3
    -DBOARD_HAS_PSRAM
    -Isrc/config
    -Isrc/hardware
    -Isrc/web
    -Isrc/algorithm

; Libraries - TYLKO potrzebne dla FAZY 1
lib_deps = 
    Wire
    mathieucarbou/AsyncTCP@^3.2.14
    mathieucarbou/ESPAsyncWebServer@^3.3.23
    bblanchon/ArduinoJson@^7.2.1


; Partition scheme
board_build.partitions = huge_app.csv


; Flash settings
board_build.flash_mode = dio
board_build.f_flash = 80000000L

; Serial port (adjust for your system)
; monitor_port = /dev/ttyACM0
; upload_port = /dev/ttyACM0

[env:debug]
extends = env:esp32s3
build_type = debug
build_flags = 
    ${env:esp32s3.build_flags}
    -DDEBUG_MODE=1
    ; -DCORE_DEBUG_LEVEL=4


    